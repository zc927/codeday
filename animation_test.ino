#include <U8g2lib.h>
#include <AsyncDelay.h>

AsyncDelay tick;
U8G2_SSD1306_128X64_NONAME_F_HW_I2C u8g2(U8G2_R2, SCL, SDA, U8X8_PIN_NONE);

// defining my happy frog image ^.^

#define hfrog_width 128
#define hfrog_height 64
const int fps = 300; //3 ish fps
int animate_frame = 0;
const int display_width = 164;
int current_pos = -display_width;
const int move_int = 3; //movement interval


static const unsigned char happy_frog_a[] U8X8_PROGMEM = {
 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
 0xff,0xff,0xef,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
 0xff,0xff,0xff,0xe7,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
 0xff,0xff,0xff,0xff,0xcf,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
 0xff,0xff,0xff,0xff,0xff,0xdf,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
 0xff,0xff,0xff,0xff,0xff,0xff,0xbf,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
 0xff,0xff,0xff,0xfd,0xff,0xff,0xff,0xbf,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
 0xff,0xff,0xff,0xff,0xfc,0xff,0xff,0xe7,0x7f,0xff,0xff,0xff,0xff,0xff,0xff,
 0xff,0xff,0xff,0xff,0x7f,0xfe,0xff,0xff,0x87,0x7f,0xff,0xff,0xff,0xff,0xff,
 0xff,0xff,0xf8,0xff,0xff,0x3f,0xff,0xff,0xff,0x3f,0xff,0xff,0xff,0xff,0xff,
 0x07,0xf0,0x1f,0xe0,0xff,0xff,0xcf,0xff,0xff,0xff,0xff,0xfc,0xff,0xff,0x3f,
 0xf8,0x01,0x80,0x0f,0xc0,0xff,0xff,0xe7,0xff,0xff,0xff,0xff,0xf9,0xff,0xff,
 0x0f,0x40,0xe0,0x03,0x80,0x8f,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
 0xff,0x87,0x03,0xfc,0x1f,0xe0,0x9f,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
 0xff,0xff,0xe3,0x0f,0xfe,0xff,0xf1,0x1c,0xff,0xff,0xff,0xef,0xff,0xff,0xff,
 0xff,0xff,0xff,0xe3,0x38,0xff,0xff,0x73,0x1b,0x0f,0xff,0xff,0xf0,0xff,0xff,
 0xff,0xff,0x0f,0xff,0x73,0xfb,0xff,0xff,0x7f,0x3b,0x67,0xf8,0x3f,0xff,0xff,
 0xff,0xff,0xff,0x6f,0xfc,0x73,0xfb,0xff,0xff,0x7f,0x1b,0x67,0xfa,0xff,0xff,
 0xff,0xff,0xff,0xff,0xe1,0xf1,0x73,0xfb,0xbf,0xfe,0xff,0x1f,0xe7,0xfb,0xff,
 0xff,0xff,0xff,0xff,0xff,0xed,0x87,0xe3,0xff,0xbf,0xfe,0xff,0x8f,0xe7,0xe1,
 0xff,0xff,0xff,0xff,0xff,0xff,0xfe,0x1f,0xc3,0xff,0xff,0xff,0xff,0xc3,0xf7,
 0xef,0xff,0xff,0xff,0xff,0xff,0x7f,0xfe,0x1f,0x86,0xdb,0xff,0xff,0xbb,0xe3,
 0xf3,0xe7,0xff,0xff,0xff,0xff,0xff,0x3f,0xfc,0x3f,0x8c,0xdd,0x3f,0xfe,0xdb,
 0xe3,0xf3,0x07,0xff,0xff,0xff,0xff,0xff,0x9f,0xff,0xff,0xc0,0xee,0x9f,0xfc,
 0xed,0xe7,0xfb,0x3f,0xff,0xff,0xff,0xff,0xff,0xdf,0xff,0xff,0xe0,0xf6,0xcf,
 0xf9,0xed,0xc7,0xf9,0x9f,0xff,0xff,0xff,0xff,0xff,0x9f,0xff,0xff,0xe1,0xff,
 0xe7,0xfb,0xff,0x4f,0xf8,0x9f,0xff,0xff,0xff,0xff,0xff,0xbf,0xff,0xff,0xf1,
 0xff,0xe7,0xf8,0xff,0x4f,0xfc,0x3f,0xff,0xff,0xff,0xff,0xff,0x3f,0xff,0xff,
 0xe3,0xff,0x0f,0xfe,0xff,0x0f,0xfc,0x7f,0xff,0xff,0xff,0xff,0xff,0x7f,0xfe,
 0xff,0xe3,0xff,0xff,0xff,0xff,0x1f,0xfe,0x1f,0xff,0xff,0xff,0xff,0xff,0xff,
 0xc8,0xff,0xc7,0xff,0xff,0xff,0xff,0x0f,0xff,0x1f,0xff,0xff,0xff,0xff,0xff,
 0xff,0xc3,0xff,0x87,0xff,0x7f,0xf8,0xff,0x8f,0xff,0x0f,0xff,0xff,0xff,0xff,
 0xff,0xff,0x8f,0xff,0x8f,0xff,0x07,0xc7,0xff,0x87,0xff,0x8f,0xff,0xff,0xff,
 0xff,0xff,0xff,0x9f,0xff,0x1f,0xff,0xf1,0x1f,0xff,0x83,0xff,0x87,0xff,0xff,
 0xff,0xff,0xff,0xff,0x1f,0xff,0x1f,0xfe,0xfc,0x7f,0xfe,0xc3,0xff,0xc3,0xff,
 0xff,0xff,0xff,0xff,0xff,0x3f,0xff,0x3f,0x7e,0xfe,0xff,0xfc,0xe1,0xff,0xc3,
 0xff,0xff,0xff,0xff,0xff,0xff,0x3f,0xfe,0x7f,0x3c,0xff,0xff,0xf9,0xf1,0xff,
 0xc3,0xdf,0xff,0xff,0xff,0xff,0xff,0x7f,0xfe,0x7f,0xbc,0xff,0xff,0xfb,0xf0,
 0xff,0xf1,0x1f,0xfc,0xff,0xff,0xff,0xff,0x7f,0xfc,0xff,0x98,0xff,0xff,0x73,
 0xf8,0xff,0xf8,0xff,0xf1,0xff,0xff,0xff,0xff,0xff,0xf8,0xff,0xd1,0xff,0xff,
 0x77,0xfc,0x7f,0xfc,0xff,0xf7,0xff,0xff,0xff,0x3f,0xff,0xf8,0xff,0xc1,0xff,
 0xff,0x37,0xfe,0x3f,0xfe,0xff,0xff,0xff,0xff,0xff,0x01,0xff,0xf1,0xff,0xc3,
 0xff,0xff,0x37,0xfe,0x3f,0xfe,0xf7,0xff,0xff,0xff,0xff,0xff,0xff,0xf1,0xff,
 0xc7,0xff,0xff,0x0f,0xfe,0x1f,0xff,0xe7,0xff,0xff,0xff,0xff,0xff,0xff,0xe3,
 0xff,0xc7,0xff,0xff,0x0f,0xff,0x1f,0xff,0xcf,0xff,0xff,0xff,0xff,0xff,0xff,
 0xe7,0xff,0x8f,0xff,0xff,0x8f,0xff,0x8f,0xff,0xdf,0xff,0xff,0xff,0xff,0xff,
 0xf3,0xc7,0xff,0x8f,0xff,0xff,0x8f,0xff,0xcf,0xff,0x9f,0xff,0xff,0xff,0xff,
 0xff,0xfb,0xc7,0xff,0x1f,0xff,0xff,0x87,0xff,0xc7,0xff,0x3f,0xff,0xff,0xff,
 0xff,0xff,0xf9,0x8f,0xff,0x3f,0xfe,0xff,0xc7,0xff,0xe3,0xff,0x7f,0xff,0xff,
 0xff,0xff,0xff,0xfd,0x9f,0xff,0x3f,0xfe,0xff,0xe3,0xff,0xe3,0xff,0xff,0xff,
 0xff,0xff,0xff,0xff,0xfe,0x1f,0xff,0x7f,0xfc,0x7f,0xe0,0xff,0xf1,0xff,0xff,
 0xff,0xff,0xff,0xff,0x7f,0xfe,0x1f,0xff,0x7f,0xf0,0x07,0xf0,0xff,0xf0,0xff,
 0xff,0xff,0xff,0xff,0xff,0x7f,0xff,0x3f,0xfe,0xff,0x0f,0x00,0xff,0xff,0xf8,
 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x7f,0xfe,0xff,0x0f,0xfc,0xff,0xff,
 0xfc,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x7f,0xfc,0xff,0xff,0xff,0xff,
 0xff,0xfc,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x7f,0xfc,0xff,0xff,0xff,
 0xff,0xff,0xfc,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xf8,0xff,0x03,
 0xe0,0xff,0xff,0xfc,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xf8,0xff,
 0x00,0xc0,0xff,0xff,0xfc,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xf9,
 0x3f,0x00,0x00,0xff,0xff,0xfc,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
 0xf9,0x1f,0x00,0x00,0xfe,0xff,0xfc,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
 0xff,0xf9,0x0f,0x00,0x00,0xfc,0xff,0xfc,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
 0xff,0xff,0xf9,0x07,0x00,0x00,0xfc,0xff,0xfc,0xff,0xff,0xff,0xff,0xff,0xff,
 0xff,0xff,0xff,0xf9,0x07,0x00,0x00,0xf8,0xff,0xfc,0xff,0xff,0xff,0xff,0xff,
 0xff,0xff,0xff,0xff,0xf9,0x07,0x00,0x00,0xf8,0xff,0xfc,0xff,0xff,0xff,0xff,
 0xff,0xff,0xff,0xff,0xff,0xf9,0x03,0x00,0x00,0xf8,0xff,0xfc,0xff,0xff,0xff,
 0xff,0xff,0xff,0xff,0xff,0xff,0xf9,0x03,0x00,0x00,0xf0,0xff,0xf8,0xff,0xff,
 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xf9,0x03,0x00,0x00,0xf0,0xff,0xf8,0xff,
 0xff,0xff,0xff,0xff };

static const unsigned char happy_frog_b[] U8X8_PROGMEM = {
 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
 0xff,0xff,0xfb,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
 0xff,0xff,0xff,0xf3,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
 0xff,0xff,0xff,0xff,0xe7,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
 0xff,0xff,0xff,0xff,0xff,0xef,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
 0xff,0xff,0xfd,0xff,0xff,0xff,0xdf,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
 0xff,0xff,0xff,0xfc,0xff,0xff,0xff,0x9f,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
 0xff,0xff,0xff,0x3f,0xfe,0xff,0xff,0xf3,0xbf,0xff,0xff,0xff,0xff,0xff,0xff,
 0xff,0xff,0xff,0xff,0x9f,0xff,0xff,0xff,0xcf,0xbf,0xff,0xff,0xff,0xff,0xff,
 0xff,0xff,0xf8,0xff,0xff,0xcf,0xff,0xff,0xff,0x3f,0xff,0xff,0xff,0xff,0xff,
 0x07,0xf0,0x1f,0xe0,0xff,0xff,0xe7,0xff,0xff,0xff,0xff,0xfc,0x1f,0xfe,0x3f,
 0xf8,0x01,0x80,0x0f,0xc0,0xff,0xf8,0xff,0xff,0xff,0xff,0xff,0xf9,0xdf,0xfe,
 0x0f,0x40,0xe0,0x03,0x80,0x8f,0x7f,0x32,0xff,0xff,0xff,0xff,0xff,0xff,0xc1,
 0xfc,0x87,0x03,0xfc,0x1f,0xe0,0x9f,0x3f,0x07,0xfe,0xff,0xff,0xff,0xff,0xff,
 0x9c,0xf9,0xe3,0x0f,0xfe,0xff,0xf1,0x1c,0xbf,0xe7,0xfe,0x81,0xff,0xff,0xff,
 0xff,0xfc,0xf1,0xe3,0x38,0xff,0xff,0x73,0x1b,0x9f,0xff,0x7e,0xfc,0xff,0xff,
 0xff,0x3f,0xf8,0xe1,0x73,0xfb,0xff,0xff,0x7f,0x3b,0x8f,0xff,0xf8,0xff,0xff,
 0xff,0xff,0x9f,0xff,0xc3,0x73,0xfb,0xff,0xff,0x7f,0x1b,0x8f,0xff,0xf0,0xff,
 0xff,0xff,0xff,0xdf,0xff,0xc7,0x73,0xfb,0xbf,0xfe,0xff,0x1f,0xc7,0xff,0xe7,
 0xff,0xff,0xff,0xff,0xdf,0xff,0x8f,0xe3,0xff,0xbf,0xfe,0xff,0x8f,0xc7,0xff,
 0xef,0xff,0xff,0xff,0xff,0x9f,0xff,0x0f,0xc3,0xff,0xff,0xff,0xff,0xc3,0xe3,
 0xff,0xe7,0xff,0xff,0xff,0xff,0x3f,0xff,0x1f,0x86,0xdb,0xff,0xff,0xbb,0xe3,
 0xe3,0xff,0xf3,0xff,0xff,0xff,0xff,0x3f,0xfe,0x3f,0x8c,0xdd,0x3f,0xfe,0xdb,
 0xe3,0xf1,0xff,0xf1,0xff,0xff,0xff,0xff,0x7f,0xfc,0xff,0xc0,0xee,0x9f,0xf9,
 0xed,0xe7,0xf9,0xff,0xf1,0xff,0xff,0xff,0xff,0xff,0xf8,0xff,0xe0,0xf6,0xcf,
 0xf3,0xed,0xc7,0xf8,0xff,0xf8,0xff,0xff,0xff,0xff,0xff,0xf1,0xff,0xe1,0xff,
 0xe7,0xf7,0xff,0x4f,0xf8,0xff,0xf8,0xff,0xff,0xff,0xff,0xff,0xf1,0xff,0xf1,
 0xff,0xc7,0xf8,0xff,0x4f,0xfc,0x7f,0xfc,0xff,0xff,0xff,0xff,0xff,0xe3,0xff,
 0xe3,0xff,0x1f,0xfe,0xff,0x0f,0xfc,0x3f,0xfe,0xff,0xff,0xff,0xff,0xff,0xe7,
 0xff,0xe3,0xff,0xff,0xff,0xff,0x1f,0xfe,0x3f,0xfe,0xff,0xff,0xff,0xff,0xff,
 0xc7,0xff,0xc7,0xff,0xff,0xff,0xff,0x0f,0xff,0x1f,0xff,0xff,0xff,0xff,0xff,
 0xff,0xc7,0xff,0x87,0xff,0x7f,0xf8,0xff,0x8f,0xff,0x1f,0xff,0xff,0xff,0xff,
 0xff,0xff,0x8f,0xff,0x8f,0xff,0x07,0xc7,0xff,0x87,0xff,0x9f,0xff,0xff,0xff,
 0xff,0xff,0xff,0x9f,0xff,0x1f,0xff,0xf1,0x1f,0xff,0x83,0xff,0x8f,0xff,0xff,
 0xff,0xff,0xff,0xff,0x1f,0xff,0x1f,0xfe,0xfc,0x7f,0xfe,0xc3,0xff,0xc7,0xff,
 0xff,0xff,0xff,0xff,0xff,0x3f,0xff,0x3f,0x7e,0xfe,0xff,0xfc,0xe1,0xff,0xc3,
 0xff,0xff,0xff,0xff,0xff,0xff,0x3f,0xfe,0x7f,0x3c,0xff,0xff,0xf9,0xf1,0xff,
 0xe3,0xff,0xff,0xff,0xff,0xff,0xff,0x7f,0xfe,0x7f,0xbc,0xff,0xff,0xfb,0xf0,
 0xff,0xf1,0x1f,0xff,0xff,0xff,0xff,0xff,0x7f,0xfc,0xff,0x98,0xff,0xff,0x73,
 0xf8,0xff,0xf8,0x7f,0xf8,0xff,0xff,0xff,0xff,0xff,0xf8,0xff,0xd1,0xff,0xff,
 0x77,0xfc,0x7f,0xfc,0xff,0xe3,0xff,0xff,0xff,0xff,0xff,0xf8,0xff,0xc1,0xff,
 0xff,0x37,0xfe,0x3f,0xfe,0xff,0xff,0xff,0xff,0xff,0x0f,0xfe,0xf1,0xff,0xc3,
 0xff,0xff,0x37,0xfe,0x3f,0xfe,0xfb,0xff,0xff,0xff,0xff,0xf1,0xff,0xf1,0xff,
 0xc7,0xff,0xff,0x0f,0xfe,0x1f,0xff,0xf3,0xff,0xff,0xff,0xff,0xff,0xff,0xe3,
 0xff,0xc7,0xff,0xff,0x0f,0xff,0x1f,0xff,0xe7,0xff,0xff,0xff,0xff,0xff,0xf3,
 0xe7,0xff,0x8f,0xff,0xff,0x8f,0xff,0x8f,0xff,0xcf,0xff,0xff,0xff,0xff,0xff,
 0xf9,0xc7,0xff,0x8f,0xff,0xff,0x8f,0xff,0xcf,0xff,0x9f,0xff,0xff,0xff,0xff,
 0xff,0xfd,0xc7,0xff,0x1f,0xff,0xff,0x87,0xff,0xc7,0xff,0x3f,0xff,0xff,0xff,
 0xff,0xff,0xfc,0x8f,0xff,0x3f,0xfe,0xff,0xc7,0xff,0xe3,0xff,0x7f,0xff,0xff,
 0xff,0xff,0x7f,0xfe,0x9f,0xff,0x3f,0xfe,0xff,0xe3,0xff,0xe3,0xff,0xff,0xff,
 0xff,0xff,0xff,0x3f,0xff,0x1f,0xff,0x7f,0xfc,0x7f,0xe0,0xff,0xf1,0xff,0xff,
 0xff,0xff,0xff,0xff,0xbf,0xff,0x1f,0xff,0x7f,0xf0,0x07,0xf0,0xff,0xf0,0xff,
 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x3f,0xfe,0xff,0x0f,0x00,0xff,0xff,0xf8,
 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x7f,0xfe,0xff,0x0f,0xfc,0xff,0xff,
 0xfc,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x7f,0xfc,0xff,0xff,0xff,0xff,
 0xff,0xfc,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x7f,0xfc,0xff,0xff,0xff,
 0xff,0xff,0xfc,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xf8,0xff,0x03,
 0xe0,0xff,0xff,0xfc,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xf8,0xff,
 0x00,0xc0,0xff,0xff,0xfc,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xf9,
 0x3f,0x00,0x00,0xff,0xff,0xfc,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
 0xf9,0x1f,0x00,0x00,0xfe,0xff,0xfc,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
 0xff,0xf9,0x0f,0x00,0x00,0xfc,0xff,0xfc,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
 0xff,0xff,0xf9,0x07,0x00,0x00,0xfc,0xff,0xfc,0xff,0xff,0xff,0xff,0xff,0xff,
 0xff,0xff,0xff,0xf9,0x07,0x00,0x00,0xf8,0xff,0xfc,0xff,0xff,0xff,0xff,0xff,
 0xff,0xff,0xff,0xff,0xf9,0x07,0x00,0x00,0xf8,0xff,0xfc,0xff,0xff,0xff,0xff,
 0xff,0xff,0xff,0xff,0xff,0xf9,0x03,0x00,0x00,0xf8,0xff,0xfc,0xff,0xff,0xff,
 0xff,0xff,0xff,0xff,0xff,0xff,0xf9,0x03,0x00,0x00,0xf0,0xff,0xf8,0xff,0xff,
 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xf9,0x03,0x00,0x00,0xf0,0xff,0xf8,0xff,
 0xff,0xff,0xff,0xff };

void setup(void) {

  u8g2.begin();
  tick.start(fps, AsyncDelay::MILLIS);
}

void loop() {
  if (tick.isExpired()) {
    drawFrogAnimate();
    if (animate_frame == 0)
    {
       animate_frame++;
    }
    else if (animate_frame == 1)
    {
      animate_frame--;
    }
  current_pos += move_int;
  if(current_pos > 2*display_width)
  {
    current_pos = 0;
  }
  tick.repeat();
  }

}

void drawFrogAnimate() {
  u8g2.firstPage();
  do {
    switch (animate_frame) {
      case 0:
        u8g2.drawXBMP(current_pos,0, hfrog_width, hfrog_height, happy_frog_a);
        break;
      case 1: 
        u8g2.drawXBMP(current_pos,0, hfrog_width, hfrog_height, happy_frog_b);
        break;
    }
  }
  while(u8g2.nextPage());

}
